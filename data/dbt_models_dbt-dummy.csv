path,name,extension,sql_code,config,materialized,is_snapshot,has_jinja_code,model_category,vertical,yml_code,tests,has_tests,sql_ids,has_select_all_in_last_select,has_group_by,primary_key,filters,is_filtered,macros,has_macros,parent_models,is_source_model,source,children_models,is_end_model,model_description,jinja_description
dbt_project/snapshots/int_customers_per_store_snapshot.sql,int_customers_per_store_snapshot.sql,.sql,"{% SNAPSHOT int_stock_balances_daily_grouped_by_day_snapshot %} {{ config(target_schema='public', strategy='check', check_cols=['total_customers'], unique_key='store_id', invalidate_hard_deletes=TRUE) }}
SELECT store_id,
       total_customers,
       CURRENT_DATE
FROM {{ ref('int_customers_per_store') }} {% endsnapshot %}","{{ config(target_schema='public', strategy='check', check_cols=['total_customers'], unique_key='store_id', invalidate_hard_deletes=TRUE) }}",snapshot,True,True,int,customers_per_store_snapshot,,,False,['store_id'],False,False,,,False,['config'],True,['int_customers_per_store'],False,,[],True,"""Captures daily snapshots of customer counts per store from the 'int_customers_per_store' source. It checks for changes in 'total_customers' and uniquely identifies records by 'store_id'. The snapshot is refreshed daily, ensuring accurate tracking of customer metrics over time.""","- Creates a snapshot named `int_stock_balances_daily_grouped_by_day_snapshot` to track changes in customer totals for each store.
- Configures the snapshot to check for changes in the `total_customers` column, using `store_id` as the unique identifier and allowing for hard deletes."
dbt_project/snapshots/_snapshots.yml,_snapshots.yml,.yml,,,,False,False,other,_snapshots,"{'version': 2, 'snapshots': [{'name': 'int_customers_per_store_snapshot', 'columns': [{'name': 'total_customers', 'tests': ['not_null']}]}]}",,False,,False,False,,,False,,False,[],False,,[],True,"""Calculates the total number of customers per store by aggregating data from the 'customers' table. It applies a snapshot to ensure data consistency and includes a test to verify that the 'total_customers' field is not null.""",
